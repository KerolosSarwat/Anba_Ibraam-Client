{"ast":null,"code":"export const calculateAge=nationalId=>{if(!nationalId||typeof nationalId!=='string'||nationalId.length!==14){return null;}const century=parseInt(nationalId[0]);const yearPart=parseInt(nationalId.substring(1,3));const month=parseInt(nationalId.substring(3,5))-1;// Months are 0-indexed in Date\nconst day=parseInt(nationalId.substring(5,7));let fullYear;if(century===2){fullYear=1900+yearPart;}else if(century===3){fullYear=2000+yearPart;}else{return null;// Invalid century for current valid IDs or future ones not handled\n}const birthDate=new Date(fullYear,month,day);const today=new Date();// Validate date components (e.g. prevent month 99 or day 99)\nif(birthDate.getFullYear()!==fullYear||birthDate.getMonth()!==month||birthDate.getDate()!==day){return null;}let age=today.getFullYear()-birthDate.getFullYear();const m=today.getMonth()-birthDate.getMonth();if(m<0||m===0&&today.getDate()<birthDate.getDate()){age--;}return age>=0?age:null;};","map":{"version":3,"names":["calculateAge","nationalId","length","century","parseInt","yearPart","substring","month","day","fullYear","birthDate","Date","today","getFullYear","getMonth","getDate","age","m"],"sources":["F:/Bishoy/client/src/utils/nationalId.js"],"sourcesContent":["export const calculateAge = (nationalId) => {\r\n    if (!nationalId || typeof nationalId !== 'string' || nationalId.length !== 14) {\r\n        return null;\r\n    }\r\n\r\n    const century = parseInt(nationalId[0]);\r\n    const yearPart = parseInt(nationalId.substring(1, 3));\r\n    const month = parseInt(nationalId.substring(3, 5)) - 1; // Months are 0-indexed in Date\r\n    const day = parseInt(nationalId.substring(5, 7));\r\n\r\n    let fullYear;\r\n    if (century === 2) {\r\n        fullYear = 1900 + yearPart;\r\n    } else if (century === 3) {\r\n        fullYear = 2000 + yearPart;\r\n    } else {\r\n        return null; // Invalid century for current valid IDs or future ones not handled\r\n    }\r\n\r\n    const birthDate = new Date(fullYear, month, day);\r\n    const today = new Date();\r\n\r\n    // Validate date components (e.g. prevent month 99 or day 99)\r\n    if (birthDate.getFullYear() !== fullYear || birthDate.getMonth() !== month || birthDate.getDate() !== day) {\r\n        return null;\r\n    }\r\n\r\n    let age = today.getFullYear() - birthDate.getFullYear();\r\n    const m = today.getMonth() - birthDate.getMonth();\r\n\r\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n        age--;\r\n    }\r\n\r\n    return age >= 0 ? age : null;\r\n};\r\n"],"mappings":"AAAA,MAAO,MAAM,CAAAA,YAAY,CAAIC,UAAU,EAAK,CACxC,GAAI,CAACA,UAAU,EAAI,MAAO,CAAAA,UAAU,GAAK,QAAQ,EAAIA,UAAU,CAACC,MAAM,GAAK,EAAE,CAAE,CAC3E,MAAO,KAAI,CACf,CAEA,KAAM,CAAAC,OAAO,CAAGC,QAAQ,CAACH,UAAU,CAAC,CAAC,CAAC,CAAC,CACvC,KAAM,CAAAI,QAAQ,CAAGD,QAAQ,CAACH,UAAU,CAACK,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CACrD,KAAM,CAAAC,KAAK,CAAGH,QAAQ,CAACH,UAAU,CAACK,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAG,CAAC,CAAE;AACxD,KAAM,CAAAE,GAAG,CAAGJ,QAAQ,CAACH,UAAU,CAACK,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAEhD,GAAI,CAAAG,QAAQ,CACZ,GAAIN,OAAO,GAAK,CAAC,CAAE,CACfM,QAAQ,CAAG,IAAI,CAAGJ,QAAQ,CAC9B,CAAC,IAAM,IAAIF,OAAO,GAAK,CAAC,CAAE,CACtBM,QAAQ,CAAG,IAAI,CAAGJ,QAAQ,CAC9B,CAAC,IAAM,CACH,MAAO,KAAI,CAAE;AACjB,CAEA,KAAM,CAAAK,SAAS,CAAG,GAAI,CAAAC,IAAI,CAACF,QAAQ,CAAEF,KAAK,CAAEC,GAAG,CAAC,CAChD,KAAM,CAAAI,KAAK,CAAG,GAAI,CAAAD,IAAI,CAAC,CAAC,CAExB;AACA,GAAID,SAAS,CAACG,WAAW,CAAC,CAAC,GAAKJ,QAAQ,EAAIC,SAAS,CAACI,QAAQ,CAAC,CAAC,GAAKP,KAAK,EAAIG,SAAS,CAACK,OAAO,CAAC,CAAC,GAAKP,GAAG,CAAE,CACvG,MAAO,KAAI,CACf,CAEA,GAAI,CAAAQ,GAAG,CAAGJ,KAAK,CAACC,WAAW,CAAC,CAAC,CAAGH,SAAS,CAACG,WAAW,CAAC,CAAC,CACvD,KAAM,CAAAI,CAAC,CAAGL,KAAK,CAACE,QAAQ,CAAC,CAAC,CAAGJ,SAAS,CAACI,QAAQ,CAAC,CAAC,CAEjD,GAAIG,CAAC,CAAG,CAAC,EAAKA,CAAC,GAAK,CAAC,EAAIL,KAAK,CAACG,OAAO,CAAC,CAAC,CAAGL,SAAS,CAACK,OAAO,CAAC,CAAE,CAAE,CAC7DC,GAAG,EAAE,CACT,CAEA,MAAO,CAAAA,GAAG,EAAI,CAAC,CAAGA,GAAG,CAAG,IAAI,CAChC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}